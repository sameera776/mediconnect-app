{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{MapContainer,TileLayer,Marker,Popup}from\"react-leaflet\";import axios from\"axios\";import\"leaflet/dist/leaflet.css\";import L from\"leaflet\";// Fix missing default marker icons in Leaflet\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";delete L.Icon.Default.prototype._getIconUrl;L.Icon.Default.mergeOptions({iconRetinaUrl:\"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png\",iconUrl:\"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png\",shadowUrl:\"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png\"});function MapView(){const[pharmacies,setPharmacies]=useState([]);useEffect(()=>{axios.get(\"https://mediconnect-app.onrender.com/api/medicines/all\").then(res=>{setPharmacies(res.data);}).catch(err=>{console.error(\"Error fetching pharmacies:\",err);});},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Pharmacy Locations\"}),/*#__PURE__*/_jsxs(MapContainer,{center:[17.385,78.4867]// Hyderabad coordinates\n,zoom:12,style:{height:\"500px\",width:\"100%\"},children:[/*#__PURE__*/_jsx(TileLayer,{attribution:\"\\xA9 <a href=\\\"https://osm.org\\\">OpenStreetMap</a> contributors\",url:\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"}),pharmacies.map((pharmacy,index)=>pharmacy.latitude&&pharmacy.longitude&&/*#__PURE__*/_jsx(Marker,{position:[pharmacy.latitude,pharmacy.longitude],children:/*#__PURE__*/_jsxs(Popup,{children:[/*#__PURE__*/_jsx(\"strong\",{children:pharmacy.pharmacy_name}),/*#__PURE__*/_jsx(\"br\",{}),pharmacy.name,/*#__PURE__*/_jsx(\"br\",{}),\"Stock: \",pharmacy.stock]})},index))]})]});}export default MapView;","map":{"version":3,"names":["React","useEffect","useState","MapContainer","TileLayer","Marker","Popup","axios","L","jsx","_jsx","jsxs","_jsxs","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","MapView","pharmacies","setPharmacies","get","then","res","data","catch","err","console","error","children","center","zoom","style","height","width","attribution","url","map","pharmacy","index","latitude","longitude","position","pharmacy_name","name","stock"],"sources":["C:/MediConnect_JS/frontend/src/components/MapView.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { MapContainer, TileLayer, Marker, Popup } from \"react-leaflet\";\r\nimport axios from \"axios\";\r\nimport \"leaflet/dist/leaflet.css\";\r\nimport L from \"leaflet\";\r\n\r\n// Fix missing default marker icons in Leaflet\r\ndelete L.Icon.Default.prototype._getIconUrl;\r\nL.Icon.Default.mergeOptions({\r\niconRetinaUrl:\r\n\"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png\",\r\niconUrl: \"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png\",\r\nshadowUrl: \"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png\",\r\n});\r\n\r\nfunction MapView() {\r\nconst [pharmacies, setPharmacies] = useState([]);\r\n\r\nuseEffect(() => {\r\naxios\r\n.get(\"https://mediconnect-app.onrender.com/api/medicines/all\")\r\n.then((res) => {\r\nsetPharmacies(res.data);\r\n})\r\n.catch((err) => {\r\nconsole.error(\"Error fetching pharmacies:\", err);\r\n});\r\n}, []);\r\n\r\nreturn (\r\n<div>\r\n<h3>Pharmacy Locations</h3>\r\n<MapContainer\r\ncenter={[17.385, 78.4867]} // Hyderabad coordinates\r\nzoom={12}\r\nstyle={{ height: \"500px\", width: \"100%\" }}\r\n>\r\n<TileLayer attribution='&copy; <a href=\"https://osm.org\">OpenStreetMap</a> contributors' url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\" />\r\n{pharmacies.map((pharmacy, index) => (\r\npharmacy.latitude && pharmacy.longitude && (\r\n<Marker\r\nkey={index}\r\nposition={[pharmacy.latitude, pharmacy.longitude]}\r\n>\r\n<Popup>\r\n<strong>{pharmacy.pharmacy_name}</strong>\r\n<br />\r\n{pharmacy.name}\r\n<br />\r\nStock: {pharmacy.stock}\r\n</Popup>\r\n</Marker>\r\n)\r\n))}\r\n</MapContainer>\r\n</div>\r\n);\r\n}\r\n\r\nexport default MapView;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,YAAY,CAAEC,SAAS,CAAEC,MAAM,CAAEC,KAAK,KAAQ,eAAe,CACtE,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,0BAA0B,CACjC,MAAO,CAAAC,CAAC,KAAM,SAAS,CAEvB;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBACA,MAAO,CAAAJ,CAAC,CAACK,IAAI,CAACC,OAAO,CAACC,SAAS,CAACC,WAAW,CAC3CR,CAAC,CAACK,IAAI,CAACC,OAAO,CAACG,YAAY,CAAC,CAC5BC,aAAa,CACb,gEAAgE,CAChEC,OAAO,CAAE,6DAA6D,CACtEC,SAAS,CAAE,+DACX,CAAC,CAAC,CAEF,QAAS,CAAAC,OAAOA,CAAA,CAAG,CACnB,KAAM,CAACC,UAAU,CAAEC,aAAa,CAAC,CAAGrB,QAAQ,CAAC,EAAE,CAAC,CAEhDD,SAAS,CAAC,IAAM,CAChBM,KAAK,CACJiB,GAAG,CAAC,wDAAwD,CAAC,CAC7DC,IAAI,CAAEC,GAAG,EAAK,CACfH,aAAa,CAACG,GAAG,CAACC,IAAI,CAAC,CACvB,CAAC,CAAC,CACDC,KAAK,CAAEC,GAAG,EAAK,CAChBC,OAAO,CAACC,KAAK,CAAC,4BAA4B,CAAEF,GAAG,CAAC,CAChD,CAAC,CAAC,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,mBACAjB,KAAA,QAAAoB,QAAA,eACAtB,IAAA,OAAAsB,QAAA,CAAI,oBAAkB,CAAI,CAAC,cAC3BpB,KAAA,CAACT,YAAY,EACb8B,MAAM,CAAE,CAAC,MAAM,CAAE,OAAO,CAAG;AAAA,CAC3BC,IAAI,CAAE,EAAG,CACTC,KAAK,CAAE,CAAEC,MAAM,CAAE,OAAO,CAAEC,KAAK,CAAE,MAAO,CAAE,CAAAL,QAAA,eAE1CtB,IAAA,CAACN,SAAS,EAACkC,WAAW,CAAC,iEAAiE,CAACC,GAAG,CAAC,oDAAoD,CAAE,CAAC,CACnJjB,UAAU,CAACkB,GAAG,CAAC,CAACC,QAAQ,CAAEC,KAAK,GAChCD,QAAQ,CAACE,QAAQ,EAAIF,QAAQ,CAACG,SAAS,eACvClC,IAAA,CAACL,MAAM,EAEPwC,QAAQ,CAAE,CAACJ,QAAQ,CAACE,QAAQ,CAAEF,QAAQ,CAACG,SAAS,CAAE,CAAAZ,QAAA,cAElDpB,KAAA,CAACN,KAAK,EAAA0B,QAAA,eACNtB,IAAA,WAAAsB,QAAA,CAASS,QAAQ,CAACK,aAAa,CAAS,CAAC,cACzCpC,IAAA,QAAK,CAAC,CACL+B,QAAQ,CAACM,IAAI,cACdrC,IAAA,QAAK,CAAC,UACC,CAAC+B,QAAQ,CAACO,KAAK,EACf,CAAC,EATHN,KAUG,CAEP,CAAC,EACY,CAAC,EACV,CAAC,CAEN,CAEA,cAAe,CAAArB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}